{
  "filename": "shard-redis.md",
  "__html": "<h1 id=\"shard-redis%E5%AD%98%E5%82%A8%E7%B1%BB%E5%9E%8B\">shard-redis存储类型 <a class=\"header-anchor\" href=\"#shard-redis%E5%AD%98%E5%82%A8%E7%B1%BB%E5%9E%8B\">#</a></h1>\n<p>适用于服务单机、集群部署的场景。</p>\n<p>此种存储类型，采用redis sharding技术，支持海量数据+高并发+高可用的场景。</p>\n<p>详见实现<strong>ShardJedisTransactionStorage</strong></p>\n<h2 id=\"%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\">如何使用 <a class=\"header-anchor\" href=\"#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\">#</a></h2>\n<h3 id=\"%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE\">添加配置 <a class=\"header-anchor\" href=\"#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE\">#</a></h3>\n<p>可如下配置，查看<a href=\"/zh-cn/docs/tutorial/configurations.html#shardredisstoreproperties\">更多shard redis配置</a></p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">tcc:</span>\n    <span class=\"hljs-attr\">storage:</span>\n      <span class=\"hljs-attr\">storage-type:</span> <span class=\"hljs-string\">shard_redis</span>\n      <span class=\"hljs-attr\">shard-redis:</span>\n        <span class=\"hljs-attr\">nodes:</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">host:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>\n            <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6379</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">host:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>\n            <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6380</span>\n          <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">host:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>\n            <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6381</span>\n\n</code></pre>\n<h3 id=\"maven%E4%BE%9D%E8%B5%96\">maven依赖 <a class=\"header-anchor\" href=\"#maven%E4%BE%9D%E8%B5%96\">#</a></h3>\n<p>默认已集成了jedis包，开发者可按需调整。</p>\n<pre><code class=\"language-xml\"> <span class=\"hljs-comment\">&lt;!--tcc-transaction中测试使用版本为3.1.0--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>redis.clients<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>jedis<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${jedis.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n",
  "link": "/zh-cn/docs/tutorial/storagetype/shard-redis.html",
  "meta": {}
}