{
  "filename": "dashboard-guild.md",
  "__html": "<h1 id=\"dashbord%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C\">dashbord使用手册 <a class=\"header-anchor\" href=\"#dashbord%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C\">#</a></h1>\n<p>dashboard，即TCC管理后台，主要功能有：</p>\n<ul>\n<li>登录</li>\n<li>Domain管理</li>\n<li>事件管理</li>\n<li>任务管理</li>\n</ul>\n<p>dashbaord部署请<a href=\"/zh-cn/docs/ops/dashboard/index.html\">点这里</a></p>\n<p>默认<a href=\"http://localhost:22332/tcc-transaction-dashboard\">访问地址</a></p>\n<h2 id=\"%E7%99%BB%E5%BD%95\">登录 <a class=\"header-anchor\" href=\"#%E7%99%BB%E5%BD%95\">#</a></h2>\n<p>默认用户: admin<br>\n默认密码：123456</p>\n<p><img src=\"../../img/dashboard/login.jpg\" alt=\"登录页面\"></p>\n<h2 id=\"%E9%A6%96%E9%A1%B5\">首页 <a class=\"header-anchor\" href=\"#%E9%A6%96%E9%A1%B5\">#</a></h2>\n<p><img src=\"../../img/dashboard/welcome.jpg\" alt=\"首页\"></p>\n<h2 id=\"domain%E7%AE%A1%E7%90%86\">Domain管理 <a class=\"header-anchor\" href=\"#domain%E7%AE%A1%E7%90%86\">#</a></h2>\n<p>主要涉及功能：</p>\n<ul>\n<li>Domain列表</li>\n<li>新增Domain</li>\n<li>修改Domain</li>\n<li>删除Domain</li>\n<li>告警测试</li>\n</ul>\n<h3 id=\"domain%E5%88%97%E8%A1%A8\">Domain列表 <a class=\"header-anchor\" href=\"#domain%E5%88%97%E8%A1%A8\">#</a></h3>\n<p><img src=\"../../img/dashboard/domain_manage.jpg\" alt=\"domain管理\"></p>\n<h3 id=\"%E6%96%B0%E5%A2%9Edomain\">新增Domain <a class=\"header-anchor\" href=\"#%E6%96%B0%E5%A2%9Edomain\">#</a></h3>\n<p>正常情况下tcc客户端启动时会自动注册domain，如果注册不成功可通过此功能来<strong>新增Domain</strong><br>\n<img src=\"../../img/dashboard/doamin_add.jpg\" alt=\"新增Domain\"></p>\n<h4 id=\"%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E\">字段说明 <a class=\"header-anchor\" href=\"#%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E\">#</a></h4>\n<ul>\n<li>doamin, 必输，具有唯一性，一般与服务一一对应</li>\n<li>手机号列表, 多个以英文逗号分割，不填告警不会生效</li>\n<li>告警类型，暂时仅支持<strong>钉钉</strong></li>\n<li>告警阈值，这里阈值主要异常事件堆积数达到一定值时会触发告警</li>\n<li>告警间隔(分钟)，为了避免频繁重复告警而设置</li>\n<li>钉钉机器人地址，被告警的钉钉群，机器人webhook地址，操作步骤如下</li>\n</ul>\n<blockquote>\n<p>第一步 打开钉钉群-&gt;打开智能群助手，进入<strong>机器人管理页面</strong><br>\n第二步 点击<strong>自定义机器人</strong>-&gt;点击<strong>添加</strong>按钮，进入机器人设置页面，关键字务必为<strong>TCC告警</strong>，否则会导致告警不生效\n<img src=\"../../img/dashboard/ding_robot_setting.jpg\" alt=\"机器人设置页面\"><br>\n第三步 复制webhook地址，即为所得<br>\n<img src=\"../../img/dashboard/ding_webhook.jpg\" alt=\"机器人webhook\"></p>\n</blockquote>\n<h4 id=\"%E5%BC%82%E5%B8%B8%E4%BA%8B%E4%BB%B6%E5%A0%86%E7%A7%AF%E5%91%8A%E8%AD%A6%E6%95%88%E6%9E%9C\">异常事件堆积告警效果 <a class=\"header-anchor\" href=\"#%E5%BC%82%E5%B8%B8%E4%BA%8B%E4%BB%B6%E5%A0%86%E7%A7%AF%E5%91%8A%E8%AD%A6%E6%95%88%E6%9E%9C\">#</a></h4>\n<p><strong>注意</strong>：当前手机号列表为空、告警阈值&lt;=0、钉钉机器人地址为空，满足其一时，告警将不会触发。<br>\n<img src=\"../../img/dashboard/domain_alert_result_show.jpg\" alt=\"异常事件堆积告警效果\"></p>\n<h3 id=\"%E4%BF%AE%E6%94%B9domain\">修改Domain <a class=\"header-anchor\" href=\"#%E4%BF%AE%E6%94%B9domain\">#</a></h3>\n<p>当需要变更除domain的其他配置时，可使用此功能。\n<img src=\"../../img/dashboard/domain_modify.jpg\" alt=\"修改Domain\"></p>\n<h3 id=\"%E5%88%A0%E9%99%A4domain\">删除Domain <a class=\"header-anchor\" href=\"#%E5%88%A0%E9%99%A4domain\">#</a></h3>\n<p>当tcc服务下线或者需要删除无效doamin时，可使用此功能。<br>\n<strong>注意</strong>：dashboard server模式下删除domain会同时删除对应的定时任务\n<img src=\"../../img/dashboard/domain_delete.jpg\" alt=\"删除Domain\"></p>\n<h3 id=\"%E5%91%8A%E8%AD%A6%E6%B5%8B%E8%AF%95\">告警测试 <a class=\"header-anchor\" href=\"#%E5%91%8A%E8%AD%A6%E6%B5%8B%E8%AF%95\">#</a></h3>\n<p>当前仅支持钉钉告警测试<br>\n<img src=\"../../img/dashboard/domain_alert_test.jpg\" alt=\"告警测试\">\n以下为钉钉告警测试效果<br>\n<img src=\"../../img/dashboard/ding_alert_test_show.jpg\" alt=\"钉钉告警测试效果\"></p>\n<h2 id=\"%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86\">事件管理 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86\">#</a></h2>\n<p>主要涉及功能：</p>\n<ul>\n<li>事件分页查询</li>\n<li>事件批量确认</li>\n<li>事件批量取消</li>\n<li>事件批量重置</li>\n<li>事件批量删除</li>\n<li>事件详情</li>\n<li>已删除事件分页查询</li>\n<li>已删除事件批量恢复</li>\n</ul>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\">事件分页查询 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\">#</a></h3>\n<p>查询条件支持：domain和xid<br>\n<strong>注意</strong>：这里点击查询按钮，最多会一次性从后端查询1000条事件，然后进行前端分页。<br>\n<img src=\"../../img/dashboard/transaction_manage.jpg\" alt=\"事件分页查询\"></p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E7%A1%AE%E8%AE%A4\">事件批量确认 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E7%A1%AE%E8%AE%A4\">#</a></h3>\n<p>批量更新事件状态为COMFIRMING</p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E5%8F%96%E6%B6%88\">事件批量取消 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E5%8F%96%E6%B6%88\">#</a></h3>\n<p>批量更新事件状态为CANCELING</p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E9%87%8D%E7%BD%AE\">事件批量重置 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E9%87%8D%E7%BD%AE\">#</a></h3>\n<p>批量更新事件重试次数为0，方便事件被补偿任务重新执行</p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4\">事件批量删除 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4\">#</a></h3>\n<p>这里删除是软删除，批量将事件更新为删除状态</p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E8%AF%A6%E6%83%85\">事件详情 <a class=\"header-anchor\" href=\"#%E4%BA%8B%E4%BB%B6%E8%AF%A6%E6%83%85\">#</a></h3>\n<p>展示事件内容信息，比如参与方信息等<br>\n<strong>注意</strong>：</p>\n<ul>\n<li>出于性能考虑默认事件内容采用序列化方式为<a href=\"/zh-cn/docs/tutorial/serializer/kryo.html\">kryo</a>，详情会展示为乱码(待优化)</li>\n<li>如果要详情明文显示，可采用<a href=\"/zh-cn/docs/tutorial/serializer/custom.html#jackson%E5%BA%8F%E5%88%97%E5%8C%96\">jackson序列化</a></li>\n</ul>\n<h3 id=\"%E5%B7%B2%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\">已删除事件分页查询 <a class=\"header-anchor\" href=\"#%E5%B7%B2%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\">#</a></h3>\n<p><img src=\"../../img/dashboard/transaction_manager_for_deleted.jpg\" alt=\"已删除事件分页查询\"></p>\n<h3 id=\"%E5%B7%B2%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E6%81%A2%E5%A4%8D\">已删除事件批量恢复 <a class=\"header-anchor\" href=\"#%E5%B7%B2%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E6%89%B9%E9%87%8F%E6%81%A2%E5%A4%8D\">#</a></h3>\n<p>这里删除是软删除，批量将已删除状态的事件更新为正常状态</p>\n<h2 id=\"%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86\">任务管理 <a class=\"header-anchor\" href=\"#%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86\">#</a></h2>\n<p>这里是对补偿任务的管理，仅仅在dashboard server模式才支持。<br>\ndashboard server模式部署<a href=\"/zh-cn/docs/ops/dashboard/deploy-server.html\">点这里</a><br>\n主要涉及功能</p>\n<ul>\n<li>任务分页查询</li>\n<li>任务暂停、恢复</li>\n<li>修改cron表达式</li>\n</ul>\n<p><img src=\"../../img/dashboard/tcc-task-manage.jpg\" alt=\"tcc任务管理\"></p>\n",
  "link": "/zh-cn/docs/ops/dashboard/dashboard-guild.html",
  "meta": {}
}